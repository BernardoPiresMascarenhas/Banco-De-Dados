## HO06: SQL (DDL)

```sql
CREATE SCHEMA SAM;
USE SAM;


CREATE TABLE CURSO (
    Nome VARCHAR(100) NOT NULL,
    Sigla CHAR(4) NOT NULL,
    Custo FLOAT NOT NULL,
    Horas SMALLINT NOT NULL,
    Area CHAR(4) NOT NULL,
    CONSTRAINT PK_SIGLA_CURSO PRIMARY KEY (Sigla),
    CONSTRAINT FK_AREA_CURSO FOREIGN KEY (Area) 
    REFERENCES AREA (Sigla) 
    ON DELETE RESTRICT ON UPDATE CASCADE
);

CREATE TABLE AREA (
    Sigla CHAR(4) NOT NULL,
    Nome VARCHAR(100) NOT NULL,
    SuperArea CHAR(4),
    CONSTRAINT PK_SIGLA_AREA PRIMARY KEY (Sigla)
);

ALTER TABLE AREA ADD CONSTRAINT FK_SUPERAREA
FOREIGN KEY (SuperArea)
REFERENCES AREA (Sigla)
ON DELETE SET NULL ON UPDATE CASCADE;


CREATE TABLE TOPICO (
    Sigla CHAR(4) NOT NULL,
    Modulo CHAR(4) NOT NULL,
    Nome VARCHAR(100) NOT NULL,
    Horas SMALLINT NOT NULL,
    CONSTRAINT PK_MODULO_SIGLA PRIMARY KEY (Modulo, Sigla),
    CONSTRAINT FK_MODULO_TOPICO FOREIGN KEY (Modulo)
    REFERENCES MODULO (Sigla)
    ON DELETE RESTRICT ON UPDATE CASCADE
);

CREATE TABLE MODULO (
    Sigla CHAR(4) NOT NULL,
    Nome VARCHAR(100) NOT NULL,
    Curso CHAR(4) NOT NULL,
    CONSTRAINT PK_SIGLA_MODULO PRIMARY KEY (Sigla),
    CONSTRAINT FK_CURSO_MODULO FOREIGN KEY (Curso)
    REFERENCES CURSO (Sigla)
    ON DELETE RESTRICT ON UPDATE CASCADE
);

CREATE TABLE PROFESSOR (
    CPF CHAR(11) NOT NULL,
    Curso CHAR(4) NOT NULL,
    Nome VARCHAR(200) NOT NULL,
    CONSTRAINT PK_CURSO_CPF_PROFESSOR PRIMARY KEY (Curso, CPF),  
    CONSTRAINT FK_CURSO_PROFESSOR FOREIGN KEY (Curso)
    REFERENCES CURSO (Sigla)
    ON DELETE RESTRICT ON UPDATE CASCADE
);

CREATE TABLE ALUNO (
    CPF CHAR(11) NOT NULL,
    Nome VARCHAR(100) NOT NULL,
    Sobrenome VARCHAR(200) NOT NULL,
    Sexo CHAR(1) NOT NULL,
    DataNasc DATE NOT NULL,
    CONSTRAINT PK_CPF_ALUNO PRIMARY KEY (CPF)
);

CREATE TABLE MATRICULA (
    Curso CHAR(4),
    Aluno CHAR(11),
    Data DATE NOT NULL,
    Pago BOOLEAN NOT NULL DEFAULT 0,
    CONSTRAINT PK_MATRICULA PRIMARY KEY (Curso, Aluno),
    CONSTRAINT FK_CURSO_MATRICULA FOREIGN KEY (Curso)
    REFERENCES CURSO (Sigla)
    ON DELETE RESTRICT ON UPDATE CASCADE,
    CONSTRAINT FK_ALUNO_MATRICULA FOREIGN KEY (Aluno)
    REFERENCES ALUNO (CPF)
    ON DELETE RESTRICT ON UPDATE CASCADE
);

```